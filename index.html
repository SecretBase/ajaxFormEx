<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax Form Extension</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/monokai_sublime.min.css">
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
    <link rel="stylesheet" type="text/css" href="./styles.css">

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>

    <script type="text/javascript" src="./ajaxFormEx.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-71543426-1', 'auto');
      ga('send', 'pageview');

    </script>

</head>
<body class="clearfix">
    <aside>
        <h2>Documentation Index</h2>
        <nav class="nav-index-menu">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#basic-usage">Basic Usage</a></li>
                <li><a href="#inject-ajax-handler">Inject Ajax Handler</a></li>
                <li><a href="#more-example">Examples</a></li>
            </ul>
        </nav>
    </aside>
    <main>
        <section id="overview">
            <h1>Ajax Form Ex</h1>
            <article>
                <h2>Add some sugar to the jQuery ajax form request</h2>
                <p>Sometime I am too lazy to write the same $.ajax() and its callback over and over and over again.</p>
                <p>So I decide to write a plugin to handle this.</p>
                <p>And Sorry for English. I quite not good at it....</p>
            </article>
        </section>
        <section id="installation">
            <h2>Installation</h2>
            <p>Load jQuery before load the ajaxFormEx.js</p>


            <pre><code class="html code-block"> &lt;script type="text/javascript" src="jquery.js">&lt;/script>
 &lt;script type="text/javascript" src="ajaxFormEx.js">&lt;/script> </code></pre>



        </section>
        <section id="basic-usage">
            <h2>Basic Usage</h2>

            <p>Binding Form(s) you want to perform ajax request. It will perform a jquery $.ajax() for you when form onSubmit().</p>

            <p>It will take the action attribute and method attribute as a jquery $.ajax() url and method parameters respectively.</p>

            <p>And it will auto do the form serialize() for you and pass to $.ajax() data parameter.</p>


            <h3>HTML:</h3>
            <pre><code class="html code-block">&lt;form action="/path/to/somewhere" method="post">
    &lt;input type="text" name="first_name" value="some var">
    &lt;input type="text" name="last_name" value="some var">
&lt;/form></code></pre>


            <h3>Javascript:</h3>
            <pre><code class="javascript code-block">$('form').ajaxFormEx();</code></pre>

        </section>
        <section>
            <h2>Options and Callbacks</h2>
            <p>Here is the list of options and callbacks.</p>
            <p>There will some new added callbacks ajaxHandler for use. Some of them will run by sequence.</p>
            <p>Debug option default as false. When you turn it on, plugin will console log out some message to let you know the sequence.</p>
            <p><strong>Open the development console and click the below button see what happen when debug is on.</strong></p>
            <form id="debug-form" action="./api/success.json" method="get">
                <button>Try it out.</button>
            </form>
            <pre><code class="javascript code-block">$('form').ajaxFormEx({
    debug: false,
    ajaxHandler: {
        beforeSend: function(jqXHR, settings) {
            // Do Something
        },
        successStart: function(data, textStatus, jqXHR) {
            // Do Something
        },
        successEnd: function(data, textStatus, jqXHR) {
            // Do Something
        },
        complete: function(jqXHR, textStatus) {
            // Do Something
        },
        errorStart: function(jqXHR, textStatus, errorThrown) {
            // Do Something
        },
        errorEnd: function(jqXHR, textStatus, errorThrown) {
            // Do Something
        }
    },
    injectAjaxHandler: null
});</code></pre>
        </section>
        <section id="inject-ajax-handler">
            <h2>Inject Ajax Handler</h2>
            <p>You will be wonder what is the use of the injectAjaxHandler option.</p>
            <p>It will be a little bit crazy and hard to explain.</p>
            <p>So let's take a use case as a example.</p>
            <p>Let's say we have two form to perform ajax request. Both of them will redirect after success but one of this will alert message to user.</p>
            <pre><code class="code-block html">&lt;form class="ajax-request" action="/path/to/somewhere" method="post">
    &lt;input type="text" name="first_name">
    &lt;input type="text" name="last_name">
    &lt;button type="submit">Save&lt;/button>
&lt;/form>
&lt;form class="ajax-request" data-form-success="alertUser" action="/path/to/somewhere" method="post">
    &lt;!-- This will  alert user -->
    &lt;input type="text" name="first_name">
    &lt;input type="text" name="last_name">
    &lt;button type="submit">Save&lt;/button>
&lt;/form>
</code></pre>
        <pre><code class="javascript code-block">// This is what I do to solve this problem by using this plugin.
var generalAjaxHandler = {
    successEnd: function (data, textStatus, jqXHR) {
        console.log('!!!!!!Rediect!!!!!!');
    }
};

var injectAjaxHandler {
    alertUser: function (data, textStatus, jqXHR) {
        alert('This is this injectAjaxHandler.');
    }
};

$('ajax-request').ajaxFormEx({
    ajaxHandler: generalAjaxHandler,
    injectAjaxHandler: injectAjaxHandler
});
</code></pre>
            <p>When you define a data attribute (data-form-success), The plugin will find run the function for that namespace (alertUser) you passed in to this plugin.</p>
            <p><strong>Open the development console and click the below button see what's going on.</strong></p>
            <form class="ajax-request" action="./api/success.json" method="get">
                <button type="submit">Redirect</button>
            </form>
            <br>
            <form class="ajax-request" action="./api/success.json" data-form-success="alertUser" method="get">
                <button type="submit">!!!Alert!!!</button>
            </form>
            <br>
            <p>Here is the data attribute list for injectAjaxHandler.</p>
            <ul>
                <li>form-beforesend</li>
                <li>form-success</li>
                <li>form-complete</li>
                <li>form-error</li>
            </ul>
            <p><strong>Please note that all injectAjaxHandler function will run after the start callbacks (beforeSend, successStart, errorStart)  and before the end callbacks (successEnd, errorEnd, complete) in the sequence.</strong></p>
        </section>
        <section id="more-example">
            <h2>More Example</h2>
            <p>Under Construction...</p>
        </section>
    </main>
    <script type="text/javascript" src="./scripts.js"></script>
</body>
</html>
