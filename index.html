<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        
        <title>Ajax Form Extension Documentation</title>
        
        <link rel="stylesheet" href="./styles.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="../ajaxFormEx.js"></script>
        <script src="./scripts.js"></script>

    </head>
    <body>

        <header></header>

        <aside>
            <div class="content sticky">
                <h2>Index</h2>
                <ul>
                    <li><a href="#index-install">Install and Initialize</a></li>
                    <li><a href="#index-debug">Debug functions</a></li>
                    <li><a href="#general-ajax-handler">General event form callback</a></li>
                    <li><a href="#specific-form-callback">Specific event form callback</a></li>
                    <li><a href="#execute-callback-sequence">Execute callback sequence</a></li>
                </ul>
            </div>
        </aside>

        <main>

            <h1>Ajax Form Extension Documentation</h1>

            <em>Please open your development console to see the debug message.</em>

            <h2 id="index-install">Installation and Initialize</h2>

            <code>
                <pre>
                &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">&lt;/script>

                &lt;script src="./ajax-framework.js">&lt;/script>

                &lt;script>

                    $(document).ready(function(e) {

                        var af = new ajax_framework($('form'), custom_ajax_handler, general_ajax_handler);

                    });

                &lt;/script>
                </pre>
            </code>

            <p>When you init correctly, the console will out <strong>"Ajax Form Extension Initialized."</strong></p>

            <p>You can use the return object (af) to call some debug functions.</p>

            <hr>

            <h2 id="index-debug">Debug function</h2>

            <p>Here is some debug function to print out current object list</p>

            <code>
                <pre>
                    &lt;script>

                        var debug_form = new ajax_framework($('form'), custom_ajax_handler, general_ajax_handler);

                        debug_form.list_form(); // List all the form.
                        debug_form.list_form_context(); // List the form context objects.
                        debug_form.list_custom_ajax_event(); // List custom ajax events.

                    &lt;/script>

                    &lt;form class="debug-form" action="http://localhost/aircraft/www/en/api/testing" method="post">Form 1&lt;/form>
                    &lt;form class="debug-form" action="http://localhost/aircraft/www/en/api/testing" method="get">Form 2&lt;/form>
                    &lt;form class="debug-form" action="">Form 3&lt;/form>
                </pre>
            </code>

            <div class="hidden">
                <form class="debug-form" action="./api/success.json" method="get">Form 1</form>
                <form class="debug-form" action="./api/success.json" method="get">Form 2</form>
                <form class="debug-form" action="./api/success.json" method="get">Form 3</form>
            </div>

            <div class="box">
                <p><strong>Open your console and try it out:</strong></p>
                <button id="list-form" type="button">List Form</button>
                <button id="list-form-context" type="button">List form context objects</button>
                <button id="list-custom-event" type="button">List custom ajax events</button>
            </div>

            <hr>

            <h2 id="general-ajax-handler">General event form callback</h2>
            
            <p>Here is come general event form callback you can set.</p>

            <ol>
                <li>beforeSend</li>
                <li>successStart</li>
                <li>successEnd</li>
                <li>failStart</li>
                <li>failEnd</li>
                <li>complete</li>
                <li>error</li>
            </ol>

            <h3>Example</h3>

            <code>
                <pre>
                    &lt;script>

                        var general_ajax_handler = {
                            beforeSend: function(jqXHR, settings) {

                                // Do something
                                console.log(this.form);
                                
                            },
                            successStart: function(data, textStatus, jqXHR) {
                                // Do something
                            },
                            successEnd: function(data, textStatus, jqXHR) {
                                // Do something
                            },
                            failStart: function(data, textStatus, jqXHR) {
                                // Do something
                            },
                            failEnd: function(data, textStatus, jqXHR) {
                                // Do something
                            },
                            complete: function(jqXHR, textStatus) {
                                // Do something
                            },
                            error: function(jqXHR, textStatus, errorThrown) {
                                // Do something
                            }
                        }

                        var group_one = new ajax_framework($('form'), custom_ajax_handler, general_ajax_handler);

                    &lt;/script>
                </pre>
            </code>

            <p>You can access current form jquery object by using <strong>this.form</strong> inside the call back.</p>

            <div class="box">

                <p><strong>Open your console and try it out:</strong></p>

                <form class="gerenal-form" action="./api/success.json" method="post">
                    <h4>Form 1</h4>
                    <input type="submit" value="Submit">
                </form>

                <form class="gerenal-form" action="./api/fail.json" method="get">
                    <h4>Form 2</h4>
                    <input type="submit" value="Submit">
                </form>

                <form class="gerenal-form" action="./api/success.json">
                    <h4>Form 3</h4>
                    <input type="submit" value="Submit">
                </form>
                
            </div>

            <hr>

            <h2 id="specific-form-callback">Specific event form callback</h2>

            <p>You can set specific callback functions for specific form. It need to be set the data attribute at the form</p>

            <p>Same as the general event form callback, you can access the current current form jquery object by using <strong>"this.form"</strong> inside the callback</p>

            <ol>
                <li>data-form-beforesend=""</li>
                <li>data-form-success=""</li>
                <li>data-form-fail=""</li>
                <li>data-form-complete=""</li>
            </ol>

            <h3>Example</h3>

            <code>
                <pre>
                    
                    &lt;script>

                        var specific_ajax_handler = {
                            specificBeforesend: function(jqXHR, settings) {

                                console.log('specificBeforesend');

                            },
                            specificSuccess = function(data, textStatus, jqXHR) {

                                console.log('specificSuccess');

                            },
                            specificFail = function(data, textStatus, jqXHR) {

                                console.log('specificFail');

                            }
                        };

                        var gerenal_form  = new ajax_framework($('.gerenal-form'), specific_ajax_handler);


                    &lt;/script>

                    &lt;form data-form-success="specificBeforesend" action="./api/success.json" method="post">
                        &lt;input type="submit" value="Submit">
                    &lt;/form>

                    &lt;form data-form-fail="specificSuccess" action="./api/fail.json" method="get">
                        &lt;input type="submit" value="Submit">
                    &lt;/form>

                    &lt;form data-form-beforesend="specificFail" action="./api/fail.json" method="get">
                        &lt;input type="submit" value="Submit">
                    &lt;/form>

                </pre>
            </code>

            <div class="box">
                <p><strong>Open your console and try it out:</strong></p>
                <form class="specific-form" data-form-beforesend="specificBeforesend" action="./api/success.json" method="post">
                    <p>specificBeforesend</p>
                    <input type="submit" value="Submit">
                </form>
                <form class="specific-form" data-form-success="specificSuccess" action="./api/success.json" method="get">
                    <p>specificSuccess</p>
                    <input type="submit" value="Submit">
                </form>
                <form class="specific-form" data-form-fail="specificFail" action="./api/fail.json" method="get">
                    <p>specificFail</p>
                    <input type="submit" value="Submit">
                </form>
            </div>

            <hr>

            <h2 id="execute-callback-sequence">Execute callback sequence</h2>

            <p>Above callbacks will execute one by one inside the framework.</p>

            <h3>BeforeSend</h3>

            <ol>
                <li>General BeforeSend Callback</li>
                <li>Specific BeforeSend Callback</li>
            </ol>

            <h3>Success</h3>

            <ol>
                <li>General Success Start Callback</li>
                <li>Specific Success Callback *(return false at the callback will prevent it go to <strong>"General Success End Callback"</strong>)</li>
                <li>General Success End Callback</li>
            </ol>

            <h3>Fail</h3>

            <ol>
                <li>General Fail Start Callback</li>
                <li>Specific Fail Callback *(return false at the callback will prevent it go to <strong>"General Fail End Callback"</strong>)</li>
                <li>General Fail End Callback</li>
            </ol>

            <h3>Complete</h3>

            <ol>
                <li>Specific Complete Callback *(return false at the callback will prevent it go to <strong>"General Complete Callback"</strong>)</li>
                <li>General Complete Callback</li>
            </ol>

            <h3>Error</h3>

            <p>To be implement ...</p>

            <ol>
                <li>General Error Callback</li>
            </ol>

            <h3>Example</h3>

            <code>
                <pre>

                    &lt;script>

                        var sequence_ajax_handler = {
                            general: {
                                beforeSend: function() {
                                    console.log('General beforeSend');
                                },
                                successStart: function() {
                                    console.log('General Success Start');
                                },
                                successEnd: function() {
                                    console.log('General Success End');
                                },
                                failStart: function() {
                                    console.log('General fail Start');
                                },
                                failEnd: function() {
                                    console.log('General fail end');
                                },
                                complete: function() {
                                    console.log('General complete');
                                },
                                error: function() {
                                    console.log('General Error');
                                }
                            },

                            specific: {
                                sequenceSuccess: function() {
                                    console.log('sequenceSuccess');
                                    return false;
                                },
                                sequenceFail: function() {
                                    console.log('sequenceFail');
                                    return false;
                                }
                            }
                        };

                    var sequence_form = new ajax_framework($('.sequence-form'), sequence_ajax_handler.specific, sequence_ajax_handler.general);

                    &lt;/script>

                    

                    &lt;form class="sequence-form" action="./api/success.json" method="get">
                        &lt;input type="submit" value="Submit">
                    &lt;/form>

                    &lt;form class="sequence-form" data-form-success="sequenceSuccess" action="./api/success.json" method="get">
                        &lt;input type="submit" value="Submit">
                    &lt;/form>

                    &lt;form class="sequence-form" action="./api/fail.json" method="get">
                        &lt;input type="submit" value="Submit">
                    &lt;/form>

                    &lt;form class="sequence-form" data-form-fail="sequenceFail" action="./api/fail.json" method="get">
                        &lt;input type="submit" value="Submit">
                    &lt;/form>
                    
                </pre>
            </code>

            <div class="box">

                <p><strong>Open your console and try it out:</strong></p>

                <form class="sequence-form" action="./api/success.json" method="get">
                    <p>Sequence 1 "Success"</p>
                    <input type="submit" value="Submit">
                </form>

                <form class="sequence-form" data-form-success="sequenceSuccess" action="./api/success.json" method="get">
                    <p>Sequence 2 <strong>"Success w/ specific form success callback return false"</strong></p>
                    <input type="submit" value="Submit">
                </form>

                <form class="sequence-form" action="./api/fail.json" method="get">
                    <p>Sequence 3 "Fail"</p>
                    <input type="submit" value="Submit">
                </form>

                <form class="sequence-form" data-form-fail="sequenceFail" action="./api/fail.json" method="get">
                    <p>Sequence 4 <strong>"Fail w/ specific form fail callback return false"</strong></p>
                    <input type="submit" value="Submit">
                </form>

            </div>

        </main>

        <footer></footer>
        
    </body>
</html>
